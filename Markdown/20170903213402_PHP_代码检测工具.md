# 代码检测工具

## 为何而要有代码检测？

程序员的自我规范

在每个高要求的程序员心中都会有一套"自我规范"，比如：
- 流程控制语句一定要有换行
- 变量命名用小驼峰
- 不适用的变量一定要销毁
- 一个文件不能超过1000行
- 一个方法长度不能超过200行
- 一个方法的复杂度不应太高
- 等等

这些切实有效的规范也会作为他们团队的行为准则，不得越过，务必按照执行。

但是执行的过程真的是那么容易做到每个人都遵守吗?

我所了解的答案是："一个再高执行力的团队，在每天的代码海洋中游走，只靠口头的约束，是难以达成契约"。

违反契约后的结果和绩效惩罚势必会让团队更加陷入恐慌。

正所谓：杂乱的事情规范化，规范的事情制度化，制度的事情流程化。那么团队是否可以把代码检测做成流程化、工具化的东西？

下面介绍几款在我们团队中使用的一些工具组件，以及方式方法，它们会让上述规范执行变得`so easy`。


## PHP CodeSniffer

> 确保你的代码简洁一致的必不可少的开发工具

https://github.com/squizlabs/PHP_CodeSniffer

## PHP -l
> PHP 自带检测语法错误工具

## PHPMD

> PHP代码质量检测，以行业内最佳实践来对你的代码进行审查

https://github.com/phpmd/phpmd

## 如何更好的集成

利用 `git hook` 在团队研发人员 git仓库中加入hook进行检测当前提交变动代码（如果你想更加的工具化可以在中心仓库进行检测）


以下是我们根据项目特点，整合出的一个工具包，已经在团队实践超过4年。

https://github.com/qycloud/git_code_sniffer_hooks


## 注意：
- 上述只是用PHP语言的工具进行举例，其他语言同理，也有很多检测工具提供；
- 可以对于团队特点进行自定义工具包