<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>Docker初接触 - 云计算</title>
        <link href="../../static/css/tango.css" rel="stylesheet"></link>
        <link href="../../static/css/style.css" rel="stylesheet"></link>
		<link href="../../static/css/prism.css" rel="stylesheet"></link>
    </head>
    <body>
        <div id="container">
            
			<div id='post-nav'>
				<a href='../../index.html'>Home</a>&nbsp;»&nbsp;
				<a href='../../index.html#云计算'>云计算</a>&nbsp;»&nbsp;Docker初接触
			</div>
			<h1>Docker</h1>
<p>集装箱（像一个集装箱）、标准化（操作标准化）、隔离（网络、进程、磁盘）</p>
<p>镜像、容器、仓库（BUILD、SHIP RUN）</p>
<h2>docker解决什么问题</h2>
<ul>
<li>容器即服务，可以运行多种不同的复杂环境</li>
<li>开发人员可以专注代码本身</li>
<li><h2>运维人员可以快速部署、复制，高效的管理</h2>
<h2>Docker镜像</h2>
</li>
<li>联合文件系统，实现文件的分层</li>
</ul>
<h2>Docker 容器</h2>
<p>容器的本质就是一个进程，镜像可以生成多个容器，镜像可以修改，容器不可以</p>
<h2>Docker 仓库</h2>
<ul>
<li>hub.docker.com</li>
<li>c.163.com</li>
</ul>
<h2>Docker 初体验</h2>
<h3>拉取镜像</h3>
<pre><code class="language-bash">docker pull [OPTIONS] NAME[:TAG]
</code></pre>
<h3>查看镜像列表</h3>
<pre><code class="language-bash">docker images [OPTIONS][REPOSITORY[:TAG]]
</code></pre>
<h3>运行</h3>
<pre><code class="language-bash">docker run [OPTIONS]IMAGE[:TAG][COMMAND][ARG...]
</code></pre>
<h3>停止</h3>
<pre><code class="language-bash">docker stop [OPTIONS] CONTAINER [CONTAINER...]
</code></pre>
<h3>查看正在运行的镜像</h3>
<pre><code class="language-bash">docker ps
</code></pre>
<h3>在一个运行的容器中运行一个命令</h3>
<pre><code class="language-bash">docker exec [OPTIONS] CONTAINER COMMAND [ARG...]
</code></pre>
<h3>进入正在运行的Docker</h3>
<pre><code class="language-bash">docker exec -it &lt;docker_name&gt; /bin/bash
</code></pre>
<h2>Docker 运行Nginx</h2>
<ul>
<li>持久运行的容器</li>
<li>前台挂起&amp;后台运行</li>
</ul>
<h2>Docker 网络</h2>
<ul>
<li>网络类型：隔离性，Bridge、Host、None</li>
<li>Bridge 端口映射，容器内在主机上访问，映射到主机端口，访问主机即是访问容器</li>
</ul>
<h3>端口映射</h3>
<pre><code class="language-bash">docker run -d -p 8080:80 hub.c.163.com/library/nginx:latest
</code></pre>
<h3>端口随机映射</h3>
<pre><code class="language-bash">docker run -d -P hub.c.163.com/library/nginx:latest
</code></pre>
<h3>查看网络状态</h3>
<pre><code class="language-bash">netstat -na|grep 8080
</code></pre>
<h2>制作自己的镜像</h2>
<pre><code class="language-bash">Dockerfile
docker build
jpress: http://jpress.io/
```bash


### 编写dockerfile文件
```bash
from hub.c.163.com/library/tomcat:latest
MAINTAINER mtao 1125851000@qq.com
COPY jpress.war /usr/local/tomcat/webapps
</code></pre>
<h3>build 自己的镜像</h3>
<pre><code class="language-bash">docker build -t jpress:latest .
</code></pre>
<h3>运营jpress</h3>
<pre><code class="language-bash">docker run -d -p 8888:8080 jpress
</code></pre>
<h3>运营Mysql镜像</h3>
<pre><code class="language-bash">docker run  -p 3306:3306  -e MYSQL_ROOT_PASSWORD=12345678 -e MYSQL_DATABASE=jpress -d hub.c.163.com/library/mysql:latest
</code></pre>
<h2>小技巧</h2>
<h3>设置镜像</h3>
<p><a href="http://www.jianshu.com/p/9fce6e583669">http://www.jianshu.com/p/9fce6e583669</a></p>

        </div>
		<div id="uyan_frame"></div><script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2101665"></script>
    </body>
	<script src="http://jmt33.github.io/mtao/static/js/prism.js"></script>
</html>