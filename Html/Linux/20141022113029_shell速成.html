<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>PHP Markdown Lib - Readme</title>
        <link href="http://jmt33.github.io/mtao/static/css/tango.css" rel="stylesheet"></link>
        <link href="http://jmt33.github.io/mtao/static/css/style.css" rel="stylesheet"></link>
    </head>
    <body>
        <div id="container">
            
			<div id='post-nav'>
				<a href='../../index.html'>Home</a>&nbsp;»&nbsp;
				<a href='../../index.html#Linux'>Linux</a>&nbsp;»&nbsp;shell速成
			</div>
			<h2>shell简介</h2>

<h3>shell的概念</h3>

<blockquote>
  <p>命令解释器，计算机沟通交流的媒介</p>
</blockquote>

<h3>常见的shell</h3>

<blockquote>
  <p>常见的shell包括 bash-linux的标准shell   sh 早期shell  csh ksh tcsh unix</p>
</blockquote>

<p>``shell</p>

<h1>/etc/shells: valid login shells</h1>

<p>/bin/sh
/bin/dash
/bin/bash
/bin/rbash
/bin/zsh
/usr/bin/zsh
``</p>

<h3>shell脚本</h3>

<h4>一个简单的hello world</h4>

<p>``</p>

<h1>!/bin/bash</h1>

<p>echo "Hello World"
``</p>

<p>脚本执行：</p>

<ul>
<li>1、加可执行权限 ./hello.sh</li>
<li>2、bash hello.sh</li>
</ul>

<p>平时用第一种方式较多</p>

<h4>bash常见功能</h4>

<h5>历史命令</h5>

<blockquote>
  <p>history</p>
</blockquote>

<h5>别名</h5>

<blockquote>
  <p>.bashrc</p>
</blockquote>

<p><code>alias ls="ls --color=never"</code></p>

<h5>输出重定向</h5>

<p>``</p>

<h1>把ls得出的结果输入到a文件</h1>

<p>ls > a</p>

<h1>把ls得出的结果追加到a文件</h1>

<p>ls>>a</p>

<h1>命令的错误结果输入到文件</h1>

<p>ls  gdlslga  2>>aa</p>

<h1>把正确和错误都放入文件</h1>

<p>ls  &amp;>aa</p>

<h1>正确信息输入aa，错误信息输入bb</h1>

<p>ls  >> aa  2>>bb</p>

<h1>错误和正确都输入到aa，可以追加</h1>

<p>ls  >>  aa  2>&amp;1
``</p>

<h5>多命令执行</h5>

<blockquote>
  <p>命令1  ；  命令2 ； 命令3  命令123顺序执行。之间没有任何关</p>
  
  <p>命令1  &amp;&amp;  命令2 命令1正确执行后，命令2才会执行</p>
  
  <p>命令1  ||  命令2 命令1执行不正确，命令2才会执行</p>
</blockquote>

<p><code>ls aa &amp;&amp; echo "cunzai" || echo "bu cunzai!</code></p>

<h5>管道符</h5>

<p>``</p>

<h1>命令1  |  命令2 命令1的执行结果，作为命令2的执行条件</h1>

<h1>查询监听的端口号，并查看80</h1>

<p>netstat -tlun | grep 80</p>

<h1>分屏显示ls内容</h1>

<p>ls  -l  /etc/  |  more<br />
ls -l /etc/ | grep yum
``</p>

<h3>变量</h3>

<h4>本地变量</h4>

<blockquote>
  <p>声明 变量名=变量值 注意：=号左右不能有空格 a=2
  调用 echo $变量名字</p>
</blockquote>

<h4>环境变量</h4>

<blockquote>
  <p>声明：export 变量名=变量值
  export aa
  set 查看所有变量
  env 查看环境变量
  export 查看环境变量</p>
  
  <p>查看：set
  设置类型：declare -i整型
  删除：unset 变量名
  ``
  1）变量以等号连接值，等号不能有空格
  2）变量名由数字和字母和下划线组成，不能以数字开头
  3）变量值中有空格，用引号括起来
  4）双引号内，有特殊字符。如$
  5）单引号中特殊字符无含义
  6）在变量值中，可以使用\转义符
  7）变量值可以直接调用系统命令。 <code>命令</code> $(命令)
  echo <code>ls</code>
  8）变量值可以累加 aa=123 aa="$aa"456 echo $aa
  --->123456
  9）环境变量一定设为大写</p>
</blockquote>

<p>echo $PATH
<code>让脚本不在用路径 [临时生效]</code>
PATH="$PATH":/home/mtao/shell</p>

<h1>在系统默认路径后，追加/home/mtao/shell 目</h1>

<h1>录作为命令查找路径</h1>

<p>``</p>

<h5>环境变量配置文件</h5>

<blockquote>
  <p>/etc/profile</p>
  
  <p>/etc/bashrc 所有用户生效</p>
  
  <p>~/.bashrc</p>
  
  <p>~/.bash_profile 只对指定用户生效</p>
</blockquote>

<h4>位置参数变量</h4>

<blockquote>
  <p>$0 命令自己</p>
  
  <p>$1 第一个参数</p>
  
  <p>$2 第二个参数</p>
  
  <p>$3 第三个参数</p>
</blockquote>

<h4>预定义变量</h4>

<blockquote>
  <p>$? 上一个命令的返回值。 0 上一个命令正确执行 非 0</p>
  
  <p>上一个命令不正确</p>
  
  <p>$# 统计命令之后的参数个数</p>
  
  <p>$* 返回所有参数</p>
</blockquote>

<h5>read</h5>

<blockquote>
  <p>read -p “提示信息” -t 等待时间 变量名</p>
</blockquote>

<p>``</p>

<h1>!/bin/bash</h1>

<p>read -p "please input num1:" -t 30 test1
read -p "input num2:" -t 30 test2
sum=$(( $test1 + $test2))
echo “num1 + num2 = $sum”
``</p>

<h4>数值运算</h4>

<blockquote>
  <p>1）declare 方法
  <code>num1=123
  num2=456
  declare -i sum=$num1+$num2</code></p>
  
  <p>sum=$(( $num1 + $num2 )</p>
  
  <p>sum=$(expr $num1 + $num2) 注意+左右必须空格
  )`</p>
</blockquote>

        </div>
    </body>
</html>